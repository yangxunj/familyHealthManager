# 当前工作计划：第五阶段 - 健康记录管理

> 开始日期：2026-01-21
>
> 完成日期：2026-01-21
>
> 目标：完成健康指标的记录和趋势图表展示

---

## 1. 后端记录模块 (Records Module)

- [x] **1.1 创建记录模块结构**
  - [x] 1.1.1 创建模块、控制器、服务
  - [x] 1.1.2 创建 DTO（CreateRecordDto, QueryRecordDto）

- [x] **1.2 实现健康指标参考范围**
  - [x] 1.2.1 定义各指标正常参考范围
  - [x] 1.2.2 实现异常值判断逻辑

- [x] **1.3 实现记录接口**
  - [x] 1.3.1 实现添加记录接口（含异常值判断）
  - [x] 1.3.2 实现批量添加记录接口
  - [x] 1.3.3 实现记录列表接口（支持筛选）
  - [x] 1.3.4 实现趋势数据接口
  - [x] 1.3.5 实现删除记录接口

---

## 2. 前端记录类型和 API

- [x] **2.1 类型定义**
  - [x] 2.1.1 创建记录类型枚举和标签
  - [x] 2.1.2 创建测量场景枚举和标签
  - [x] 2.1.3 创建记录相关接口类型

- [x] **2.2 API 服务**
  - [x] 2.2.1 创建记录 API 服务

---

## 3. 前端记录页面

- [x] **3.1 记录列表页面**
  - [x] 3.1.1 创建记录列表页面
  - [x] 3.1.2 实现成员/类型/时间筛选
  - [x] 3.1.3 实现异常值高亮显示
  - [x] 3.1.4 实现删除确认

- [x] **3.2 添加记录页面**
  - [x] 3.2.1 创建添加记录页面
  - [x] 3.2.2 实现多指标同时录入（血压同时录入收缩压/舒张压）
  - [x] 3.2.3 实现测量场景选择

- [x] **3.3 趋势图表页面**
  - [x] 3.3.1 安装 ECharts 依赖
  - [x] 3.3.2 创建趋势图表页面
  - [x] 3.3.3 实现折线图组件
  - [x] 3.3.4 实现时间范围切换（7天/30天/90天/全部）
  - [x] 3.3.5 实现指标类型切换
  - [x] 3.3.6 显示正常参考范围区间

---

## 验收标准

- [x] 可以录入血压、血糖、体重等健康指标
- [x] 异常值被正确识别和标记
- [x] 趋势图表正确展示历史数据变化
- [x] 支持按时间范围查看趋势

---

## 备注

### 健康指标参考范围

| 指标 | 正常范围 | 单位 |
|------|----------|------|
| 收缩压 | 90-139 | mmHg |
| 舒张压 | 60-89 | mmHg |
| 心率 | 60-100 | 次/分 |
| 空腹血糖 | 3.9-6.1 | mmol/L |
| 餐后血糖 | 3.9-7.8 | mmol/L |
| 糖化血红蛋白 | 4.0-6.0 | % |
| 总胆固醇 | 2.8-5.2 | mmol/L |
| 甘油三酯 | 0.56-1.7 | mmol/L |
| HDL | 1.0-1.5 | mmol/L |
| LDL | 0-3.4 | mmol/L |
| 体温 | 36.0-37.3 | °C |
| 血氧饱和度 | 95-100 | % |
| BMI | 18.5-24.0 | kg/m² |

### 指标分组

- 血压监测：收缩压 + 舒张压 + 心率
- 血糖监测：空腹血糖 / 餐后血糖 / 糖化血红蛋白
- 血脂监测：总胆固醇 / 甘油三酯 / HDL / LDL
- 基础指标：身高 / 体重 / 腰围 / 体温 / 血氧

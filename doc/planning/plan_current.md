# 当前工作计划：第四阶段 - 健康文档管理

> 开始日期：2026-01-21
>
> 完成日期：2026-01-21
>
> 目标：完成健康文档（体检报告等）的上传和管理

---

## 1. 后端文件存储模块 (Storage Module)

- [x] **1.1 创建存储模块**
  - [x] 1.1.1 安装 multer 依赖
  - [x] 1.1.2 创建 storage 模块和服务
  - [x] 1.1.3 配置文件上传中间件

- [x] **1.2 实现文件存储**
  - [x] 1.2.1 实现本地文件存储服务
  - [x] 1.2.2 实现文件上传接口
  - [x] 1.2.3 配置文件类型和大小限制
  - [x] 1.2.4 实现静态文件服务

---

## 2. 后端文档模块 (Documents Module)

- [x] **2.1 创建文档模块结构**
  - [x] 2.1.1 创建模块、控制器、服务
  - [x] 2.1.2 创建 DTO（CreateDocumentDto, UpdateDocumentDto）

- [x] **2.2 实现文档接口**
  - [x] 2.2.1 实现文档上传接口（含文件）
  - [x] 2.2.2 实现文档列表接口（支持筛选）
  - [x] 2.2.3 实现文档详情接口
  - [x] 2.2.4 实现文档更新接口
  - [x] 2.2.5 实现文档删除接口

---

## 3. 前端文档页面

- [x] **3.1 文档类型和 API**
  - [x] 3.1.1 创建文档类型定义
  - [x] 3.1.2 创建文档 API 服务

- [x] **3.2 文档列表页面**
  - [x] 3.2.1 创建文档列表页面
  - [x] 3.2.2 实现成员/类型/时间筛选
  - [x] 3.2.3 实现删除确认

- [x] **3.3 文档上传页面**
  - [x] 3.3.1 创建文档上传页面
  - [x] 3.3.2 实现多文件上传组件
  - [x] 3.3.3 实现上传进度显示

- [x] **3.4 文档详情和预览**
  - [x] 3.4.1 创建文档详情页面
  - [x] 3.4.2 实现图片预览
  - [x] 3.4.3 实现 PDF 预览

---

## 验收标准

- [x] 可以上传健康文档（支持图片、PDF）
- [x] 文档列表支持按成员、类型、时间筛选
- [x] 可以预览已上传的文档
- [x] 可以删除不需要的文档
- [x] 文件大小限制 10MB

---

## 备注

- 支持文件类型：jpg, jpeg, png, gif, pdf
- 文件存储路径：uploads/documents/{userId}/{filename}
- 文档类型：体检报告、检验报告、影像报告、病历记录、处方单、其他
